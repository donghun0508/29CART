```mermaid
---
title: 상품 목록 조회
---
sequenceDiagram
    participant Client as Client
    participant Controller as ProductController
    participant Facade as ProductFacade
    participant ProductService as ProductService
    participant BrandService as BrandService
    participant LikeService as LikeService
    participant DB as DataBase

    Client->>Controller: 상품 목록 요청

    Note right of Controller: 요청 파라미터 검증<br/>- 페이지 번호 유효성<br/>- 정렬 조건 확인
    Controller->>Facade: 상품 목록 조회 요청

    Note right of Facade: 비즈니스 로직 처리<br/>- 페이지네이션 계산<br/>- 정렬 조건 설정
    Facade->>ProductService: 조건에 맞는 상품 조회

    Note right of ProductService: 상품 데이터 조회<br/>- 브랜드 필터링<br/>- 페이징 처리<br/>- 정렬 적용
    ProductService->>DB: 상품 데이터 조회
    DB-->>ProductService: 상품 목록 반환
    ProductService-->>Facade: 상품 목록 전달

    alt 상품이 존재하는 경우
        Facade->>BrandService: 상품별 브랜드 정보 조회

        Note right of BrandService: 브랜드 데이터 조회<br/>- 브랜드 ID별 정보<br/>- 브랜드명 포함
        BrandService->>DB: 브랜드 정보 조회
        DB-->>BrandService: 브랜드 정보 반환
        BrandService-->>Facade: 브랜드 정보 전달

        Facade->>LikeService: 상품별 좋아요 수 조회

        Note right of LikeService: 좋아요 데이터 조회<br/>- 상품 ID별 집계<br/>- 카운트 계산
        LikeService->>DB: 좋아요 수 조회
        DB-->>LikeService: 좋아요 수 반환
        LikeService-->>Facade: 좋아요 정보 전달

        Note right of Facade: 응답 데이터 가공<br/>- 이미지 URL 설정<br/>- 재고 상태 확인<br/>- 브랜드명 매핑<br/>- 좋아요 수 매핑
        Facade-->>Controller: 가공된 상품 목록 응답
    else 상품이 없는 경우
        Facade-->>Controller: 빈 목록 응답
    end

    Note right of Controller: HTTP 응답 생성
    Controller-->>Client: 상품 목록 화면 데이터
```