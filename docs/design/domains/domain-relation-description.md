# 도메인 모델 관계 설명
> **Note:** 이 관계도는 도메인 모델 관점의 설명이며, 데이터베이스 ERD와는 무관합니다.

### 회원(Member) - 포인트(Point) 관계
- **회원(Member)이 포인트(Point)를 소유합니다.**
- 회원(Member)이 존재해야 해당 회원의 포인트 사용이 가능하기 때문입니다.
- 회원(Member)의 라이프사이클이 시작되어야 포인트(Point)도 생성될 수 있습니다.

### 찜(Heart) 애그리게이트
- **찜(Heart)은 회원이 상품에 좋아요를 표시할 때 생성됩니다.**
- 독립적인 라이프사이클을 가지므로 Aggregate Root로 선정했습니다.
- 회원과 상품이 먼저 존재한 후, 회원이 특정 상품에 대해 좋아요를 표시하기 때문에 라이프사이클이 독립적이라고 판단했습니다.

### 상품(Product) - 상표(Brand) 관계
- **상품(Product)은 독립적인 라이프사이클을 가진 Aggregate Root입니다.**
- 상표(Brand)는 상품(Product)의 상위 개념으로, 하나의 상표(Brand)가 여러 상품(Product)을 소유할 수 있습니다.
- 사용자가 구매하고 좋아요 하는 대상은 상표가 아닌 상품(Product)이므로, 작업 단위를 최소화하기 위해 상품(Product)을 별도 애그리게이트로 분리했습니다.
- 상표(Brand)도 독립적인 작업이 가능하므로 애그리게이트 루트로 선정했습니다.

### 주문(Order) 애그리게이트
- **주문(Order)은 회원이 있어야만 생성 가능한 데이터입니다.**
- 주문(Order)이 회원(Member)을 의존하는 방향으로 설정했습니다.
- 주문 데이터는 로그인된 회원이 특정 상품에 대해 주문하는 것이기 때문에 주문은 회원에 의존한다고 생각했습니다.
- 주문이라는 행위를 통해 라이프사이클이 시작되므로 Aggregate Root로 선정했습니다.
- **주문(Order)이 주문항목(OrderLine)을 소유합니다.** 주문(Order)이 생성되어야 주문항목 데이터가 의미를 갖기 때문입니다.
- **주문항목(OrderLine)은 상품(Product)을 의존합니다.** 주문항목은 특정 상품에 대한 내역이므로 1:1 관계로 구성했습니다.

### 결제(Payment) 애그리게이트
- **결제(Payment)는 주문(Order)이 있어야만 생성 가능한 결제 데이터입니다.**
- 처음에는 주문(Order) 애그리게이트 내 Entity로 고려했으나, 최종적으로 독립적인 Aggregate Root로 선정했습니다.
- **주문과 결제를 별개의 행위로 판단했습니다.** 사용자가 주문 행위 후 별도의 결제 행위를 수행하기 때문입니다.